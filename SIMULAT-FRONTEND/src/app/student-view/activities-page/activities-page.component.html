<section>
  <h3>Activities - Course Code</h3>
  
  <div *ngIf="error" class="error-message">
    {{error}}
  </div>
  
  <div *ngIf="combinedActivities.length > 0">
    <table class="min-w-full">
      <thead>
        <tr>
          <th>Title</th>
          <th>Type</th>
          <th>Score</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let activity of combinedActivities">
          <td>
            <a [routerLink]="" (click)="navigateToDetail(activity)" class="activity-link">
              {{activity.title}}
            </a>
          </td>
          <td>
            <span [class]="'badge ' + activity.type">
              {{activity.type}}
            </span>
          </td>
          <td>{{activity.score === -1 ? 'Pending' : activity.score}}</td>
          <td>
            <span [class]="'status-badge ' + activity.status">
              {{activity.status}}
            </span>
          </td>
          <td>
            <span *ngIf="activity.status === 'completed'" class="completion-check">
              <i class="fas fa-check-circle"></i> {{activity.score === -1 ? 'Pending Score' : 'Completed'}}
            </span>
            <button 
              *ngIf="activity.status === 'pending'"
              (click)="completeActivity(activity)"
              class="complete-btn">
              Mark as Complete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
